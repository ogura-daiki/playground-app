<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

  <link rel="manifest" href="manifest.json"/>
  <style>
    * {
      box-sizing: border-box;
    }

    html,
    body,
    playground-app {
      width: 100%;
      height: 100%;
      margin: 0px;
      padding: 0px;
    }
  </style>
  <script src="./isLocalhost.js"></script>
  <script src="./registerServiceWorker.js"></script>
  <script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>
  <link rel="icon" sizes="16x16" href="/images/icons/icon256.png" />
</head>

<body>
  <script>
    (()=>{
      const addReadOnly = (toObj, map={})=>{
        const properties = Object.entries(map).reduce((o, [name, value])=>{
          o[name] = {value, writable:false};
          return o;
        },{});
        Object.defineProperties(toObj, properties);
      };
      addReadOnly(window, {addReadOnly});
    })();
  </script>
  <script type="module" src="./files.js"></script>
  <script>

    
    const getLanguageFromFileName = fileName => {
      const ext = fileName.match(/\.(?<ext>[^.]+)$/)?.groups.ext;
      const list = {
        html:"html",
        htm:"html",
        js:"javascript",
        css:"css",
      };
      return list[ext];
    }
    const getMimeTypeFromFileName = fileName => {
      const language = getLanguageFromFileName(fileName);
      const list = new Map(Object.entries({
        html:"text/html",
        javascript:"text/javascript",
        css:"text/css",
      }));
      return list.get(language);
    }

  </script>

  <script type="module" src="main.js"></script>


</body>

</html>